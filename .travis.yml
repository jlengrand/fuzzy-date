dist: trusty
sudo: required
group: beta

language: node_js
node_js:
- node
addons:
  firefox: latest-esr
  apt:
  sources:
    - google-chrome
  packages:
    - google-chrome-beta
  sauce_connect: true
cache:
  directories:
  - node_modules
  - "$HOME/.cache/bower"
before_install:
- "if [ -d node_modules ] && [ x$(cat node_modules/.last-node-version 2>/dev/null) != x$(node -e 'console.log(process.version)') ]; then npm rebuild --update-binary && node -e 'console.log(process.version)' > node_modules/.last-node-version; fi"
before_script:
- npm install
- polymer install --variants
script:
- xvfb-run npm test